# Configuration file for Mech Q&A Bot
# This file contains all configurable parameters for the project

[model]
# Base model configuration
base_model_id = "meta-llama/Llama-3.2-1b-Instruct"
base_model_path = "./llama-3.2-1b-base"
adapter_path = "./llama-3.2-1b-instruct-cars-finetuned-adapter"

[training]
# Fine-tuning parameters
dataset_file = "dataset.jsonl"
output_dir = "./llama-3.2-1b-instruct-cars-finetuned-adapter"
num_train_epochs = 1
per_device_train_batch_size = 2
gradient_accumulation_steps = 4
learning_rate = 2e-5
max_seq_length = 1024
logging_steps = 25
save_steps = 50
save_total_limit = 2

# LoRA configuration
lora_r = 16
lora_alpha = 32
lora_dropout = 0.05

# Quantization settings
use_4bit = true
bnb_4bit_compute_dtype = "bfloat16"
bnb_4bit_quant_type = "nf4"
use_nested_quant = true

[streamlit]
# Streamlit app configuration
dataset_path = "small_car_dataset.jsonl"
chroma_db_path = "./chroma_db_streamlit_finetuned"
collection_name = "car_qna_finetuned"
model_path = "llama-3.2-1b-instruct-cars-finetuned-adapter"

# Generation parameters
max_new_tokens = 150
temperature = 0.6
top_p = 0.9
do_sample = true

[database]
# Vector database settings
embedding_model = "model_embeddings"  # Use model's own embeddings
max_length = 512
n_results = 3

[scraping]
# Data collection settings
max_questions = 500000000
output_file = "car_questions_live.json"
base_url = "https://www.2carpros.com/questions"
wikipedia_output = "mechanical_engineering_wikipedia.json"

# Mechanical engineering topics for Wikipedia scraping
mechanical_topics = [
    "Mechanical engineering",
    "Fluid mechanics", 
    "Thermodynamics",
    "Heat transfer",
    "Machine design",
    "Automobile engineering",
    "Kinematics",
    "Dynamics",
    "Vibration analysis",
    "Control systems",
    "Robotics",
    "Finite element analysis",
    "CAD/CAM",
    "Mechatronics",
    "Tribology",
    "Manufacturing engineering",
    "Aerodynamics",
    "Combustion",
    "Internal combustion engines",
    "Hydraulics",
    "Pneumatics",
    "Structural analysis",
    "Material science",
    "Fracture mechanics",
    "Welding technology",
    "Turbomachinery",
    "HVAC",
    "Renewable energy",
    "Acoustics",
    "Nanotechnology in mechanical engineering"
]
